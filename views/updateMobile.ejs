<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=9; IE=8; IE=7; IE=EDGE" />

    <title>Update Mobile Number</title>

    <style type="text/css">
        @import url('https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700');
        #outlook a {
            padding: 0;
        }

        body {
            
            margin: 0;
            padding: 0;
            font-family: 'Open Sans', sans-serif;
            font-size: 12px;
            color: #000;
        }

        .ReadMsgBody {
            width: 100%;
        }

        .ExternalClass {
            width: 100%;
        }

        p a {
            color: #4c85e6;
        }

        h1 {
            padding: 0px;
            margin: 0px;
        }

        p {
            padding: 0px;
            margin: 0px;
        }

        .backgroundTable {
            margin: 0 auto;
            padding: 0;
            width: 100% !important;
        }

        table td {
            border-collapse: collapse;
        }

        .fgp_logo {
            width: 200px;
        }

        @media screen and (max-width: 639px) {

.cbtable{ width: 100%!important;}
.c1r,.c1r2{ width: 100%!important;}
.mobup{width: 94%!important; margin: 0px auto!important; padding: 20px 0px!important;}

}
@media screen and (max-width: 550px) {

.c1r2{ width: 100%!important; background-color: #4b8aeb;}
.nospace_logo{ padding: 20px 20px 0px 0px!important;}
.smlogo{ width: 80px!important;}


}
@media screen and (max-width: 480px) {
.rsp_frm{ width: 90%!important; margin: 0px auto!important;}
.mob_inp{ width: 100%; box-sizing: border-box; margin-bottom: 10px;}
.inp_submit{ display: block; margin: 0px auto; width: 100px;}

}
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

</head>

<body style="padding:0; margin:0">


    

    <div id="mobUp" style="margin: 0px auto; padding: 0; width:640px; " class="mobup">
            <p style="text-align: center;">
                    <img src="https://devapi.celebkonect.com:4300/uploads/images/logo.png" class="fgp_logo" width="100%" alt="CelebKonect Logo"
                    title="CelebKonect Logo">
            </p>

            <h4 style="font-size:24px; text-align:center;  color: #4b8aeb;">Updating your mobile number</h4>
        <p style="text-align: center; font-size: 26px;">Your number seems to be in the incorrect format</p>
        
        <p style="text-align: center; color: #333; font-size: 16px; padding:15px 0px 20px 0px;">Please enter it in the following format:<br/>
            <b style="color: #111;"> country code + Phone number </b></p>


        <form id="updateMobile" action="" name="pform" method="POST" style="width:265px; margin:0px auto; display:block;" class="rsp_frm">
            <input type="text" id="pwd" style=" padding:8px 12px; margin-top:5px;" class="mob_inp" name="password" placeholder="Enter New Mobile"
                pattern=".{11,13}" title="Mobile number should match the Required format!!" required>
            <input type="submit" style="background-color:#4c85e6; color:#fff; border:none; padding:10px;"
                value="Update" class="inp_submit"></input>
        </form>

    </div>

    <script>
        $("#updateMobile").submit(function (event) {
            event.preventDefault();
            let mobileNumber = document.getElementById("pwd").value;
            $.post("<%= URL %>", //Required URL of the page on server
                { // Data Sending With Request To Server
                    "mobileNumber": mobileNumber
                },
                function (response, status) { // Required Callback Function
                    console.log(response)
                    if (response.message == "mobile number updated successfully!") {
                        alert(response.message)
                    }
                    if (response.error == "mobile number not found / Invalid request") {
                        alert(response.error)
                        $("#pwd").val('');
                    }
                    if (response.error == "mobile number already in use!") {
                        alert(response.error)
                        $("#pwd").val('');
                    }
                });
        });
    </script>
</body>

</html>